<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>multiselectimg.html</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>

    function imgSelOut(){
    //셀렉트 된 내용을 value를 배열로 받아오기.
    let len =0; 
    //이미지 개수는 6개씩만 출력해 보기로 >>나중엔 컨테이너 사이즈에 맞춰 카드 사이즈 이쁘게 꾸며서 출력하면 좋을듯?
    let sw=false
    let cnt=0;
    let str='';
    let product = document.getElementById("product").value;
    len = document.getElementById("product").length;
    //===============================================================================================
    str += "<div class='row mt-2'>"
    for(let i=0; i<len; i++ ){ //리스트 항목 개수만큼 반복시키기
        if(sw) {//행바꿈
            str+="<div class='row mt-2'>";
            sw=false;
            }
        if(shopSel.product[i].selected){
            str += "<div class='col'>"
            str +='<img src="./images/'+shopSel.product[i].value+'.png" class="img-thumbnail">';//이미지 넣을 곳 //사이즈 조정하기
            str+= "</div>";
        }
        cnt++;
        if(cnt%6==0){
        str +="</div>";
        sw=true;
        }
        }
        imgOut.innerHTML=str;
    }

    let outImgCnt =0;
    function autoImageChange(){
        setTimeout(autoImageChange,1500);
        outImgCnt++;
        document.getElementById("sampleImg").innerHTML='<img src="./images/'+outImgCnt+'.png" class="img-fluid"/>';
        if(outImgCnt == 6 )outImgCnt=1;
    }

    window.onload =autoImageChange();
    </script>

</head>
<body>
    <div class="container">
    <header>
        <div class="row">
            <div class="col" style="width: 100%; height: 100px; ">
            </div>
        </div>
    </header>
    <article>
        <form name="shopSel" id="shopSel">
        <div class="row">
            <div class="col" id="sampleImg" name="sampleImg" style="height: 400px ; width: 600px;"> 
                <!--자동으로 이미지 전환되는 곳-->
            </div>
            <div class="col"><!--상품 선택하는 곳-->
                <div class="row">
                    <div class="col">
                        <select name="product" id="product" multiple size="3" class="form-control">
                            <option value="1">비앙키 아리아</option>
                            <option value="2">포커스</option>
                            <option value="3">피나렐로</option>
                            <option value="4">비앙키 스프린트</option>
                            <option value="5">비앙키 스페셜리시마</option>
                            <option value="6">캐논데일 CAAD</option>
                        </select>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <button type="button" onclick="" class="form-control">결제</button><!--결제페이지 만들게 되면 데이터 던져서 결제페이지로 이동-->
                        <button type="button" onclick="" class="form-control">찜</button><!--추후 데이터베이스에 추가? 조회하는 페이지 제작?-->
                        <button type="button" onclick="imgSelOut()" class="form-control">장바구니 담기</button>
                        <button type="reset" onclick="" class="form-control">다시선택</button>
                    </div>
                </div>
            </div>
        </div>
        <hr>
        <div class="row">
            <div class="col"><h3>장바구니</h3></div>
        </div>
        <div class="row"></div>
            <div class="col" id="imgOut" name="imgOut"></div><!--선택한 상품 출력되는 곳-->
        </div>
        </div>
        </form>
    </article>
    <footer>

    </footer>
    </div>
</body>
</html>